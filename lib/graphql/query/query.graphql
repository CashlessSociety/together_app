query GetAllUsers {
    queryUser{
        id
        email
        name
        age
        isAdmin
        createdTimestamp
    }
}

query GetUserWithEmail($email: String) {
    getUser(email: $email){
        id
        name
        age
        email
        isAdmin
        createdTimestamp
    }
}


query GetUserWithId($id: ID) {
    getUser(id: $id){
        id
        name
        age
        email
        isAdmin
        createdTimestamp
    }
}


query GetAllRequests {
    queryRequest{
        id
        owner {
            name
        }
        title
        message
        createdTimestamp
    }
}



query GetHashtagMetaByName ($metaName: String) {
    getHashtagMeta(metaName: $metaName){
        ...HashtagMetaFragmentData
    }
}


query GetHashtagMetaById ($id: ID) {
    getHashtagMeta(id: $id){
        ...HashtagMetaFragmentData
    }
}


query GetHashtagMetaList{
    queryHashtagMeta(order: {asc: metaName}){
        ...HashtagMetaFragmentData
    }
}

query GetBlessedHashtagMetaList{
    queryHashtagMeta(order: {asc: metaName}, filter: {blessed: true}){
        ...HashtagMetaFragmentData
    }
}

query GetSkillsByUserId($id: ID){
    getUser(id: $id){
        skillsAggregate{
            count
        }
        skills(order: {asc: title}){
            id
            title
            message
            hashtagVariants{
                variantName
                hashtagMeta{
                    id
                    metaName
                }
            }
            isAvailable
            createdTimestamp
        }
    }
}

query GetSkillsPageData($id: ID){
    queryHashtagMeta(order: {asc: metaName}, filter: {blessed: true}){
        ...HashtagMetaFragmentData
    }
    getUser(id: $id){
        skillsAggregate{
            count
        }
        skills(order: {asc: title}){
            id
            title
            message
            hashtagVariants{
                variantName
                hashtagMeta{
                    id
                    metaName
                }
            }
            isAvailable
            createdTimestamp
        }
    }
}

query SearchTopRequestHashtag($keywordRegex: String!, $limit: Int = 12){
    queryHashtagMeta(
        filter: {metaName: {regexp: $keywordRegex}},
        order: {
            desc: totalRequestCount,
            then: {
                asc: metaName
            }
        },
        first: $limit
    ){
        id
        iconName
        metaName
        totalSkillCount
        totalRequestCount
    }
}