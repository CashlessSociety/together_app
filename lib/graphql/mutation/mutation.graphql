mutation CreateUser($email: String!, $name: String!, $age: Int!, $createdTimestamp: DateTime!){
    addUser(input: {email: $email, name: $name, age: $age, isAdmin: false, createdTimestamp: $createdTimestamp}){
        user{
            id
            name
            email
            isAdmin
            createdTimestamp
        }
    }
}

mutation AddHashtagMeta(
    $metaName: String!,
    $iconName: String = "",
    $blessed: Boolean = false,
    $blessedInt: Int = 0,
    $defaultHashtagVariant: HashtagVariantRef
){
    addHashtagMeta(input: {
        metaName: $metaName,
        iconName: $iconName,
        blessed: $blessed,
        blessedInt: $blessedInt,
        skillCountAllTime: 0,
        skillCountLast24h: 0,
        skillCountLast1w: 0,
        requestCountAllTime: 0,
        requestCountLast24h: 0,
        requestCountLast1w: 0,
        hashtagVariants: [$defaultHashtagVariant]
    }){
        hashtagMeta {
            ...HashtagMetaFragmentData
        }
    }
}

mutation UpdateHashtagMeta($hashtagMetaInput: UpdateHashtagMetaInput!){
    updateHashtagMeta(input: $hashtagMetaInput){
        hashtagMeta {
            ...HashtagMetaFragmentData
        }
    }
}

mutation DeleteHashtagMeta($hashtagMetaFilter: HashtagMetaFilter!){
    deleteHashtagMeta(filter: $hashtagMetaFilter){
        msg
        numUids
        hashtagMeta {
            hashtagVariants {
                id
            }
        }
    }
}


mutation DeleteHashtagVariant($hashtagVariantFilter: HashtagVariantFilter!){
    deleteHashtagVariant(filter: $hashtagVariantFilter){
        msg
        numUids
    }
}


mutation CreateSkill(
    $addHashtagMetaInputList: [AddHashtagMetaInput!]!,
    $addSkillInput: AddSkillInput!
){
    addHashtagMeta(upsert: true, input: $addHashtagMetaInputList){
        numUids
    }
    addSkill(input: [$addSkillInput]){
        skill{
            id
        }
    }
}

mutation UpdateSkill(
    $skillId: ID!,
    $addHashtagMetaInputList: [AddHashtagMetaInput!]!,
    $title: String!,
    $message: String!,
    $isAvailable: Boolean!,
    $hashtagsToSave: [HashtagVariantRef!]!,
    $hashtagsToDelete: [HashtagVariantRef!]!,
){
    addHashtagMeta(upsert: true, input: $addHashtagMetaInputList){
        numUids
    }
    updateSkill(input: {
        filter: {id: [$skillId]},
        remove: {
            hashtagVariants: $hashtagsToDelete
        }
        set: {
            title: $title
            message: $message
            isAvailable: $isAvailable
            hashtagVariants: $hashtagsToSave
        }
    }){
        skill{
            id
        }
    }
}

mutation UpdateSkillAvailable($skillId:ID!, $isAvailable: Boolean!){
    updateSkill(
        input: {
            filter: {id: [$skillId]}
            set: {isAvailable: $isAvailable}
        },
    ){
        skill{
            isAvailable
        }
    }
}

mutation RemoveSkill($skillId:ID!){
    deleteSkill(
        filter: {id: [$skillId]}
    ){
        skill{
            id
        }
    }
}